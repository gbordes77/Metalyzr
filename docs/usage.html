<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metalyzr - Guide utilisateur</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f9fafb; color: #1f2937; margin: 0; padding: 0; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        h1, h2, h3 { color: #7c3aed; }
        h1 { font-size: 2.2rem; margin-bottom: 1rem; }
        h2 { font-size: 1.5rem; margin-top: 2rem; }
        h3 { font-size: 1.2rem; margin-top: 1.5rem; }
        ul, ol { margin-left: 2rem; }
        pre { background: #1f2937; color: #e5e7eb; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
        code { background: #e5e7eb; color: #1f2937; padding: 0.2rem 0.4rem; border-radius: 0.25rem; }
        .toc { background: #e0e7ff; border-left: 4px solid #7c3aed; padding: 1rem; margin: 2rem 0; border-radius: 0.25rem; }
        .section { margin-bottom: 2.5rem; }
        .screenshot { background: #e5e7eb; color: #7c3aed; border: 1px dashed #7c3aed; padding: 1rem; text-align: center; margin: 1rem 0; border-radius: 0.5rem; }
        a { color: #2563eb; }
    </style>
</head>
<body>
<div class="container">
    <h1>üìñ Metalyzr - Guide utilisateur</h1>
    <div class="toc">
        <strong>Table des mati√®res</strong>
        <ul>
            <li><a href="#install">Installation</a></li>
            <li><a href="#config">Configuration</a></li>
            <li><a href="#pipeline">Ex√©cution du pipeline</a></li>
            <li><a href="#dashboard">Utilisation du dashboard</a></li>
            <li><a href="#export">Export & acc√®s aux donn√©es</a></li>
            <li><a href="#faq">FAQ</a></li>
            <li><a href="#liens">Liens utiles</a></li>
        </ul>
    </div>

    <div class="section" id="install">
        <h2>1. Installation</h2>
        <ol>
            <li>Cloner le monorepo :<br>
                <pre><code>git clone https://github.com/gbordes77/Metalyzr.git
cd Metalyzr</code></pre>
            </li>
            <li>Installer les d√©pendances Python :<br>
                <pre><code>python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt</code></pre>
            </li>
            <li>Installer Docker (optionnel, recommand√© pour la prod)</li>
        </ol>
    </div>

    <div class="section" id="config">
        <h2>2. Configuration</h2>
        <ul>
            <li>Configurer les variables d'environnement (exemple dans <code>.env.example</code>)</li>
            <li>Renseigner les secrets dans GitHub si usage CI/CD</li>
            <li>Adapter le fichier <code>config.yaml</code> si besoin</li>
        </ul>
    </div>

    <div class="section" id="pipeline">
        <h2>3. Ex√©cution du pipeline</h2>
        <ol>
            <li>Lancer le scraping :<br>
                <pre><code>make scrape</code></pre>
            </li>
            <li>Parser et normaliser les donn√©es :<br>
                <pre><code>make parse</code></pre>
            </li>
            <li>Charger dans PostgreSQL :<br>
                <pre><code>make load</code></pre>
            </li>
            <li>Analyser et exporter :<br>
                <pre><code>make analyse
make export</code></pre>
            </li>
        </ol>
        <div class="screenshot">[Capture d'√©cran pipeline en cours d'ex√©cution]</div>
    </div>

    <div class="section" id="dashboard">
        <h2>4. Utilisation du dashboard</h2>
        <ol>
            <li>Lancer le dashboard Streamlit :<br>
                <pre><code>make serve</code></pre>
            </li>
            <li>Acc√©der √† <code>http://localhost:8501</code> dans votre navigateur</li>
        </ol>
        <div class="screenshot">[Capture d'√©cran dashboard Streamlit]</div>
    </div>

    <div class="section" id="export">
        <h2>5. Export & acc√®s aux donn√©es</h2>
        <ul>
            <li>Les dumps sont stock√©s dans le d√©p√¥t <code>Metalyzr-data</code></li>
            <li>Pour r√©cup√©rer les donn√©es :<br>
                <pre><code>git clone https://github.com/gbordes77/Metalyzr-data.git</code></pre>
            </li>
            <li>Pour synchroniser :<br>
                <pre><code>cd Metalyzr-data
git pull</code></pre>
            </li>
        </ul>
    </div>

    <div class="section" id="faq">
        <h2>6. FAQ</h2>
        <ul>
            <li><strong>Q : Comment ajouter un nouveau format ?</strong><br>A : Modifier le scraper et le parser pour inclure le format, adapter le sch√©ma si besoin.</li>
            <li><strong>Q : O√π trouver les logs ?</strong><br>A : Dans le dossier <code>logs/</code> ou via la CI GitHub Actions.</li>
            <li><strong>Q : Comment contribuer ?</strong><br>A : Voir <a href="../CONTRIBUTING.md">CONTRIBUTING.md</a>.</li>
        </ul>
    </div>

    <div class="section" id="liens">
        <h2>7. Liens utiles</h2>
        <ul>
            <li><a href="../index.html">Vision & plan global</a></li>
            <li><a href="architecture.html">Architecture technique</a></li>
            <li><a href="etat-des-lieux.html">√âtat des lieux & suivi</a></li>
            <li><a href="aws-bucket-setup.html">Guide stockage GitHub data</a></li>
            <li><a href="../README.md">README principal</a></li>
        </ul>
    </div>
</div>
</body>
</html>
