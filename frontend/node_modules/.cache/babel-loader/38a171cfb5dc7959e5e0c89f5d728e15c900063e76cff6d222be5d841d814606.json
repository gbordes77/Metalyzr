{"ast":null,"code":"import{useState,useEffect,useCallback}from'react';import{fetchAPI}from'../utils/api/fetchWrapper';export function useAPIData(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{autoFetch=true,onSuccess,onError,showNotifications=true}=options;const[data,setData]=useState(null);const[loading,setLoading]=useState(autoFetch);const[error,setError]=useState(null);const fetchData=useCallback(async()=>{setLoading(true);setError(null);try{const result=await fetchAPI(endpoint);setData(result.data||result);onSuccess===null||onSuccess===void 0?void 0:onSuccess(result);}catch(err){const apiError=err;setError(apiError);if(showNotifications){console.error('API Error:',apiError.message||'Erreur de chargement des donnÃ©es');}onError===null||onError===void 0?void 0:onError(apiError);}finally{setLoading(false);}},[endpoint,onSuccess,onError,showNotifications]);useEffect(()=>{if(autoFetch){fetchData();}},[autoFetch,fetchData]);return{data,loading,error,refetch:fetchData,isError:!!error,isSuccess:!loading&&!error&&data!==null};}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}